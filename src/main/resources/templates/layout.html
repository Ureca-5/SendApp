<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" th:fragment="layout (content)">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${pageTitle} ?: 'Bill Admin System'">Bill Admin System</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<div class="app">
  <aside class="sidebar">
    <div class="sidebar__brand">
      <div class="brand__title">Bill Admin</div>
      <div class="brand__subtitle">LG U+ Billing System</div>
    </div>

    <nav class="sidebar__nav">
      <a th:href="@{/}" class="nav__item"
         th:classappend="${activeMenu} == 'dashboard' ? ' is-active' : ''">Dashboard</a>

      <a th:href="@{/users(billing_yyyymm=${billing_yyyymm})}" class="nav__item"
         th:classappend="${activeMenu} == 'users' ? ' is-active' : ''">Users</a>

      <a th:href="@{/bills(billing_yyyymm=${billing_yyyymm})}" class="nav__item"
         th:classappend="${activeMenu} == 'bills' ? ' is-active' : ''">Bills</a>

      <a th:href="@{/payments(billing_yyyymm=${billing_yyyymm})}" class="nav__item"
         th:classappend="${activeMenu} == 'payments' ? ' is-active' : ''">Payments</a>

      <a th:href="@{/sending(billing_yyyymm=${billing_yyyymm})}" class="nav__item"
         th:classappend="${activeMenu} == 'sending' ? ' is-active' : ''">Sending</a>

      <a th:href="@{/batch-jobs(billing_yyyymm=${billing_yyyymm})}" class="nav__item"
         th:classappend="${activeMenu} == 'batch-jobs' ? ' is-active' : ''">Batch Jobs</a>
    </nav>

    <div style="margin-top: auto; font-size: 12px; color: #999;">
      Server: v1.0.2
    </div>
  </aside>

  <main class="main">
    <header class="header">
      <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;">
        <h1 class="header__title" th:text="${pageTitle} ?: '관리자 시스템'">관리자 시스템</h1>

        <!-- 전역 청구월 필터 -->
        <form method="get" th:action="${filterAction} ?: '/'" style="display:flex; gap:8px; align-items:center;">
          <label style="font-size:12px; color:#666;">billing_yyyymm</label>
          <input name="billing_yyyymm" class="input" style="width:120px;"
                 placeholder="예: 202601"
                 th:value="${billing_yyyymm}">
          <button type="submit" class="btn" style="background:#fff; border:1px solid #ddd; color:#333;">Apply</button>
        </form>
      </div>
    </header>

    <div th:replace="${content}"></div>

    <footer class="footer">
      <div class="footer__left">
        &copy; 2026 LG Uplus Corp. All rights reserved.
      </div>
      <div class="footer__right">
        <a href="#">이용약관</a> | <a href="#">개인정보처리방침</a>
      </div>
    </footer>
  </main>
</div>

</body>
</html>
