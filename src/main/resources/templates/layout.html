<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" th:fragment="layout (content)">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${pageTitle} ?: 'Bill Admin System'">Bill Admin System</title>

  <!-- Thymeleaf(서버) + 정적(로컬) 모두 대응 -->
  <link rel="stylesheet" th:href="@{/css/style.css}" href="/css/style.css">
</head>
<body>

<div class="app">
  <aside class="sidebar">
    <div class="sidebar__brand">
      <div class="brand__title">Bill Admin</div>
      <div class="brand__subtitle">LG U+ Billing System</div>
    </div>

    <nav class="sidebar__nav">
      <a th:href="@{/}" class="nav__item"
         th:classappend="${activeMenu} == 'dashboard' ? ' is-active' : ''">Dashboard</a>

      <a th:href="@{/users(billing_yyyymm=${billing_yyyymm})}" class="nav__item"
         th:classappend="${activeMenu} == 'users' ? ' is-active' : ''">Users</a>

      <a th:href="@{/bills(billing_yyyymm=${billing_yyyymm})}" class="nav__item"
         th:classappend="${activeMenu} == 'bills' ? ' is-active' : ''">Bills</a>

      <!-- Payments: ERD 납부상태 반영 전까지 보류 (Bills로 흡수) -->
      <span class="nav__item is-disabled">Payments (보류)</span>

      <a th:href="@{/sending(billing_yyyymm=${billing_yyyymm})}" class="nav__item"
         th:classappend="${activeMenu} == 'sending' ? ' is-active' : ''">Sending</a>

      <a th:href="@{/batch-jobs(billing_yyyymm=${billing_yyyymm})}" class="nav__item"
         th:classappend="${activeMenu} == 'batch-jobs' ? ' is-active' : ''">Batch Jobs</a>
    </nav>

    <div class="sidebar__footer">
      Server: v1.0.2
    </div>
  </aside>

  <main class="main">
    <header class="header">
      <div class="header__row">
        <h1 class="header__title" th:text="${pageTitle} ?: '관리자 시스템'">관리자 시스템</h1>

        <!-- 전역 청구월 필터 -->
        <form method="get" th:action="${filterAction} ?: '/'" class="header__filter">
          <label class="label">billing_yyyymm</label>
          <input name="billing_yyyymm" class="input w-120"
                 placeholder="예: 202601"
                 th:value="${billing_yyyymm}">
          <button type="submit" class="btn btn--ghost">Apply</button>
        </form>
      </div>
    </header>

    <div th:replace="${content}"></div>

    <footer class="footer">
      <div class="footer__left">
        &copy; 2026 LG Uplus Corp. All rights reserved.
      </div>
      <div class="footer__right">
        <a href="#">이용약관</a> | <a href="#">개인정보처리방침</a>
      </div>
    </footer>
  </main>
</div>

</body>
</html>
